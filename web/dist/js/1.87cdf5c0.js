webpackJsonp([1],{"2M94":function(t,e){},"7KHZ":function(t,e){},"7quf":function(t,e){},Ahwz:function(t,e,i){"use strict";i("U6qc"),i("MfeA"),i("VjuZ");var a=i("yHUV"),o=function(){function t(t,e){return new Array(e+1).join(t)}function e(e,i){var a=0,o=0,r="undefined"!==typeof i?i:"  ",n="",s=0,l=!1,u=!1,c=null,d=!1;for(a=0,o=e.length;a<o;a+=1)switch(c=e.charAt(a),c){case"{":case"[":if(d)break;l?n+=c:(n+=c+"\n"+t(r,s+1),s+=1);break;case"}":case"]":if(d)break;l?n+=c:(s-=1,n+="\n"+t(r,s)+c);break;case",":if(d)break;n+=l?c:",\n"+t(r,s);break;case":":if(d)break;l?n+=c:(n+=": ",/": $/.test(n)||(/': $/.test(n)?(n=n.replace(/'([^\s']*)': $/,'"$1": '),console.log(n.replace(/'([^\s']*)': $/,'"$1": '))):n=n.replace(/\s([^\s]*): $/,'"$1": ')));break;case" ":case"\n":l?n+=c:d=!1;break;case"\r":case"\t":l&&(n+=c);break;case'"':if(d)break;a>0&&"\\"!==e.charAt(a-1)&&(l=!l),n+=c;break;case"'":if(d)break;a>0&&!l&&"\\"!==e.charAt(a-1)&&(u=!u),n+=l?c:'"';break;case"/":if(d)break;a>0&&!l&&"/"===e.charAt(a-1)&&(d=!0),n+=c;break;default:if(!l&&!u&&!d&&/[\uFF00-\uFFFF\u4E00-\u9FA5]/.test(c))throw new Error("JSON中不允许中文或全角字符出现在引号外， 位置： "+a);if(d)break;n+=c;break}return n}return{formatJson:e}}(),r=o.formatJson,n={name:"json-editor",data:function(){return{editorValue:"",dealedValue:"",errMsg:"",prettyJson:!0}},components:{jsEditor:a["a"]},props:{value:[String,Object,Array],title:String,type:{type:String,default:"javascript"},normalLine:{type:String,default:"10"},focusLine:{type:String,default:"20"}},watch:{value:function(t){this.setModelVal()}},mounted:function(){this.setModelVal()},methods:{setModelVal:function(){var t,e=this.value;if("string"===typeof this.value)try{e=JSON.parse(this.value),this.$emit("input",e)}catch(t){e=this.value}e="string"===typeof e?e:JSON.stringify(e,null,2);try{t=JSON.parse(this.editorValue),t=JSON.stringify(t)}catch(e){t=""}e!==t&&(this.editorValue=e)},editorBlur:function(t){this.textChange(),this.$emit("input",this.dealedValue),this.$emit("blur",this.dealedValue)},toastError:function(t){this.$emit("error",t)},textChange:function(t){this.dealedValue=this.editorValue,this.replaceText(),this.parseText()},replaceText:function(){if(this.regex)try{var t=new RegExp(this.regex,"g");this.dealedValue=this.dealedValue.replace(t,"")}catch(t){this.errorDeal(t.message),console.warn(t)}},prettyText:function(){this.textInfo=this.findLine(this.dealedValue);try{return r(this.dealedValue)}catch(t){this.errorDeal(this.getError(this.dealedValue,t.message)),console.warn(t)}},parseText:function(){this.textInfo=this.findLine(this.dealedValue);var t=this.parseLoose(this.dealedValue);null!=t&&this.successDeal(t)},parseLoose:function(t){try{var e=new Function("return "+t.replace(/^\n*/,""));return e()}catch(e){this.parseStrict(t)}},parseStrict:function(t){try{return JSON.parse(t)}catch(t){this.errorDeal(this.getError(this.dealedValue,t.message)),console.warn(t)}},successDeal:function(t){this.dealedValue="string"!==typeof t?JSON.stringify(t,null,2):t,this.errMsg=""},errorDeal:function(t){if(this.errMsg=t,this.$emit("error",t),this.prettyJson){var e=this.prettyText();null!=e&&(this.dealedValue=e,this.editorValue=this.dealedValue)}},getError:function(t,e){if(e){var i=e.match(/\d*$/);if(i){var a=parseInt(i[0]),o=this.textInfo.pos,r=o.findIndex(function(t){return t>a});if(null!=r){var n="",s=r-1>=0?r-1:0;return r-2>=0&&(n+=t.slice(o[r-2],o[r-1])),s>=0&&(n+=t.slice(o[s],a)+'<b class="editor-error-pos">'+t[a]+"</b>",n+=t.slice(a+1,o[r])),e+"<br>line:"+(r+1)+" <br> position: "+(a-o[s])+"<pre>"+n+"</pre>"}}}},findLine:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=(arguments.length>1&&arguments[1],/\n/g),i=e.exec(t),a={len:[],pos:[]};while(i){a.pos.push(i.index);var o,r=a.pos.length-2;o=r>=0?t.slice(a.pos[r],i.index-1):t.slice(0,i.index),a.len.push(this.byteLen(o)),i=e.exec(t)}return a.len.push(this.byteLen(t.slice(a.pos[a.pos.length-1],t.length-1))),a},byteLen:function(t){return null==t?0:("string"!==typeof t&&(t+=""),t.replace(/[^\x00-\xff]/g,"01").length)}}},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("js-editor",{attrs:{title:t.title,type:"json",normalLine:t.normalLine,focusLine:t.focusLine},on:{blur:t.editorBlur},model:{value:t.editorValue,callback:function(e){t.editorValue=e},expression:"editorValue"}},[t._t("tips",null,{slot:"tips"}),i("p",{staticClass:"js-editor-err",attrs:{slot:"errMsg"},domProps:{innerHTML:t._s(t.errMsg)},slot:"errMsg"})],2)},l=[],u=i("XyMi"),c=!1,d=null,f=null,m=null,p=Object(u["a"])(n,s,l,c,d,f,m);e["a"]=p.exports},HnGt:function(t,e){},LhTa:function(t,e,i){var a=i("rFzY"),o=i("Q6Nf"),r=i("FryR"),n=i("BbyF"),s=i("plSV");t.exports=function(t,e){var i=1==t,l=2==t,u=3==t,c=4==t,d=6==t,f=5==t||d,m=e||s;return function(e,s,p){for(var h,v,b=r(e),y=o(b),g=a(s,p,3),V=n(y.length),_=0,j=i?m(e,V):l?m(e,0):void 0;V>_;_++)if((f||_ in y)&&(h=y[_],v=g(h,_,b),t))if(i)j[_]=v;else if(v)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:j.push(h)}else if(c)return!1;return d?-1:u||c?c:j}}},MfeA:function(t,e,i){i("Vg1y")("match",1,function(t,e,i){return[function(i){"use strict";var a=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,a):new RegExp(i)[e](String(a))},i]})},RhFG:function(t,e,i){var a=i("kkCw")("unscopables"),o=Array.prototype;void 0==o[a]&&i("2p1q")(o,a,{}),t.exports=function(t){o[a][t]=!0}},U6qc:function(t,e,i){"use strict";var a=i("Ds5P"),o=i("LhTa")(6),r="findIndex",n=!0;r in[]&&Array(1)[r](function(){n=!1}),a(a.P+a.F*n,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("RhFG")(r)},WpTh:function(t,e,i){"use strict";var a=i("Ds5P"),o=i("LhTa")(5),r="find",n=!0;r in[]&&Array(1)[r](function(){n=!1}),a(a.P+a.F*n,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("RhFG")(r)},XO1R:function(t,e,i){var a=i("ydD5");t.exports=Array.isArray||function(t){return"Array"==a(t)}},YDMl:function(t,e,i){"use strict";
/*!
 * nano-assign v1.0.0
 * (c) 2017-present egoist <0x142857@gmail.com>
 * Released under the MIT License.
 */var a=function(t){for(var e=arguments,i=1;i<arguments.length;i++)for(var a in arguments[i])t[a]=e[i][a];return t};t.exports=a},YrsO:function(t,e){},ajXm:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("EuXz"),i("WpTh");var a=i("Ahwz"),o=i("P9l9"),r={data:function(){return{formValidate:{name:"",shortcut:"",path:"",port:8080,parentId:"",proxyTo:"",injectHtml:!0,proxyTable:[],staticPath:[],urls:[],gulp:{}},ruleValidate:{name:[{trigger:"blur",message:"请填写项目名称",required:!0}],shortcut:[{message:"请填写项目简称",required:!0}],port:[{type:"number",required:!0}]}}},computed:{projectList:function(){return this.$store.getters["project/selector"]}},components:{jsonEditor:a["a"]},mounted:function(){var t=this;this.checkProjectList().then(function(){if(t.$route.query.id){var e=t.$route.query.id,i=t.$store.state.project.list.find(function(t){return t._id===e});i?(t.copyToObj(t.formValidate,i),t.formValidate.id=i._id):t.$Message.error("项目未找到！")}})},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.postProject(e.formValidate).then(function(t){t.code||(e.$Message.success(t.message),e.freshProject())}):e.$Message.error("表单验证失败!")})},postProject:function(){var t=this.formValidate.id?o["u"]:o["d"];return t.apply(this,arguments)}}},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[i("Row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{prop:"name",label:"项目名称"}},[i("Input",{attrs:{placeholder:"请输入项目名称"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1)],1),i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{prop:"shortcut",label:"简称"}},[i("Input",{attrs:{placeholder:"请输入简称"},model:{value:t.formValidate.shortcut,callback:function(e){t.$set(t.formValidate,"shortcut",e)},expression:"formValidate.shortcut"}})],1)],1)],1),i("Row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{prop:"path",label:"项目路径"}},[i("Input",{attrs:{placeholder:"请输入路径"},model:{value:t.formValidate.path,callback:function(e){t.$set(t.formValidate,"path",e)},expression:"formValidate.path"}})],1)],1),i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{prop:"port",label:"端口"}},[i("Input-number",{attrs:{max:65536,min:1,placeholder:"请输入端口号"},model:{value:t.formValidate.port,callback:function(e){t.$set(t.formValidate,"port",e)},expression:"formValidate.port"}})],1)],1)],1),i("Row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:"父级项目",prop:"parentId"}},[i("Select",{attrs:{placeholder:"请选择父级项目"},model:{value:t.formValidate.parentId,callback:function(e){t.$set(t.formValidate,"parentId",e)},expression:"formValidate.parentId"}},[i("Option",{attrs:{value:""}},[t._v("无")]),t._l(t.projectList,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})],2)],1)],1),i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{prop:"proxyTo",label:"404代理至"}},[i("Input",{attrs:{placeholder:"请输入代理网址"},model:{value:t.formValidate.proxyTo,callback:function(e){t.$set(t.formValidate,"proxyTo",e)},expression:"formValidate.proxyTo"}})],1)],1)],1),i("Form-item",{attrs:{prop:"injectHtml",label:"html注入"}},[i("i-switch",{model:{value:t.formValidate.injectHtml,callback:function(e){t.$set(t.formValidate,"injectHtml",e)},expression:"formValidate.injectHtml"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),i("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1),i("Row",[i("i-col",{attrs:{span:"12"}},[i("div",{staticClass:"cus-form-json-editor"},[i("jsonEditor",{attrs:{title:"静态资源"},model:{value:t.formValidate.staticPath,callback:function(e){t.$set(t.formValidate,"staticPath",e)},expression:"formValidate.staticPath"}})],1)]),i("i-col",{attrs:{span:"12"}},[i("div",{staticClass:"cus-form-json-editor"},[i("jsonEditor",{attrs:{title:"代理"},model:{value:t.formValidate.proxyTable,callback:function(e){t.$set(t.formValidate,"proxyTable",e)},expression:"formValidate.proxyTable"}})],1)])],1),i("Row",[i("i-col",{attrs:{span:"12"}},[i("div",{staticClass:"cus-form-json-editor"},[i("jsonEditor",{attrs:{title:"URL列表"},model:{value:t.formValidate.urls,callback:function(e){t.$set(t.formValidate,"urls",e)},expression:"formValidate.urls"}})],1)]),i("i-col",{attrs:{span:"12"}},[i("div",{staticClass:"cus-form-json-editor"},[i("jsonEditor",{attrs:{title:"GULP"},model:{value:t.formValidate.gulp,callback:function(e){t.$set(t.formValidate,"gulp",e)},expression:"formValidate.gulp"}})],1)])],1),i("Form-item",[i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("提交")])],1)],1)},s=[],l=i("XyMi");function u(t){i("y0uw")}var c=!1,d=u,f="data-v-10d522a8",m=null,p=Object(l["a"])(r,n,s,c,d,f,m),h=p.exports,v=i("z1o6"),b={name:"projectEditor",data:function(){return{}},mixins:[v["a"]],breadList:function(){var t=[{name:"项目列表",menuName:"项目列表"},{name:"新增项目"}];return this.$route.query.id&&(t[1].name="编辑项目"),this.$route.query.fromDetail&&t.splice(1,0,{name:"项目详情"}),t},computed:{title:function(){return this.$route.query.id?"项目编辑":"项目新增"}},components:{editorProject:h},watch:{},mounted:function(){},methods:{}},y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n    "+t._s(t.title)+"\n  ")]),i("editorProject")],1)},g=[],V=!1,_=null,j=null,$=null,k=Object(l["a"])(b,y,g,V,_,j,$);e["default"]=k.exports},boo2:function(t,e,i){var a=i("UKM+"),o=i("XO1R"),r=i("kkCw")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),a(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},cOP9:function(t,e,i){"use strict";function a(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var o=a(i("YDMl")),r={name:"MonacoEditor",props:{value:String,theme:{type:String,default:"vs"},language:String,options:Object,placeholder:null,require:{type:Function,default:window.require}},model:{event:"change"},data:function(){return{editorLoaded:!1}},watch:{options:{deep:!0,handler:function(t){this.editor&&this.editor.updateOptions(t)}},value:function(t){this.editor&&t!==this.editor.getValue()&&this.editor.setValue(t)},language:function(t){this.editor&&window.monaco.editor.setModelLanguage(this.editor.getModel(),t)},theme:function(t){this.editor&&window.monaco.editor.setTheme(t)}},mounted:function(){var t=this,e=o({},{value:this.value,theme:this.theme,language:this.language},this.options);this.require(["vs/editor/editor.main"],function(){t.editorLoaded=!0,t.editor=window.monaco.editor.create(t.$el,e),t.$emit("editorMount",t.editor),t.editor.onContextMenu(function(e){return t.$emit("contextMenu",e)}),t.editor.onDidBlurEditor(function(){return t.$emit("blur")}),t.editor.onDidBlurEditorText(function(){return t.$emit("blurText")}),t.editor.onDidChangeConfiguration(function(e){return t.$emit("configuration",e)}),t.editor.onDidChangeCursorPosition(function(e){return t.$emit("position",e)}),t.editor.onDidChangeCursorSelection(function(e){return t.$emit("selection",e)}),t.editor.onDidChangeModel(function(e){return t.$emit("model",e)}),t.editor.onDidChangeModelContent(function(e){var i=t.editor.getValue();t.value!==i&&t.$emit("change",i,e)}),t.editor.onDidChangeModelDecorations(function(e){return t.$emit("modelDecorations",e)}),t.editor.onDidChangeModelLanguage(function(e){return t.$emit("modelLanguage",e)}),t.editor.onDidChangeModelOptions(function(e){return t.$emit("modelOptions",e)}),t.editor.onDidDispose(function(e){return t.$emit("afterDispose",e)}),t.editor.onDidFocusEditor(function(){return t.$emit("focus")}),t.editor.onDidFocusEditorText(function(){return t.$emit("focusText")}),t.editor.onDidLayoutChange(function(e){return t.$emit("layout",e)}),t.editor.onDidScrollChange(function(e){return t.$emit("scroll",e)}),t.editor.onKeyDown(function(e){return t.$emit("keydown",e)}),t.editor.onKeyUp(function(e){return t.$emit("keyup",e)}),t.editor.onMouseDown(function(e){return t.$emit("mouseDown",e)}),t.editor.onMouseLeave(function(e){return t.$emit("mouseLeave",e)}),t.editor.onMouseMove(function(e){return t.$emit("mouseMove",e)}),t.editor.onMouseUp(function(e){return t.$emit("mouseUp",e)})})},beforeDestroy:function(){this.editor&&this.editor.dispose()},methods:{getMonaco:function(){return this.editor},focus:function(){this.editor.focus()}},render:function(t){return t("div",null,[this.editorLoaded?null:this.placeholder])}};"undefined"!==typeof window&&window.Vue&&window.Vue.component(r.name,r),t.exports=r},gt9f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("VjuZ"),i("EuXz");var a=i("Ahwz"),o={data:function(){return{formValidate:{name:"",type:"NORMAL",description:"",model:{}},typeList:[{value:"ERROR",label:"错误"},{value:"SCHEMA",label:"参数模板"},{value:"NORMAL",label:"普通数据"}],ruleValidate:{name:[{trigger:"blur",message:"请填写项目名称",required:!0}]},topBarItems:[]}},props:{info:{type:Object}},computed:{},components:{jsonEditor:a["a"]},watch:{info:function(){this.copyToObj(this.formValidate,this.info,[["id","_id"]])}},mounted:function(){this.copyToObj(this.formValidate,this.info,[["id","_id"]])},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.$emit("submit",e.formValidate):e.$Message.error("表单验证失败!")})},btnDelete:function(){var t=this;this.$Modal.confirm({title:"是否删除该API？",content:"<p>删除后将相关的分支均会删除且无法恢复</p>",onOk:function(){t.$emit("delete",{id:t.info._id})}})}}},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n    模板信息管理\n  ")]),i("template",{slot:"extra"},t._l(t.topBarItems,function(e){return i("a",{key:e.action,staticStyle:{"margin-right":"10px"},attrs:{href:"javascript:void(0)"}},[i("Icon",{attrs:{type:e.type,color:"#9ea7b4"},nativeOn:{click:function(i){t.btnAction(e.action)}}})],1)})),i("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[i("Form-item",{attrs:{prop:"name",label:"名称"}},[i("Input",{attrs:{placeholder:"请输入名称"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1),i("Form-item",{attrs:{prop:"type",label:"类型"}},[i("Select",{staticStyle:{width:"100px"},model:{value:t.formValidate.type,callback:function(e){t.$set(t.formValidate,"type",e)},expression:"formValidate.type"}},t._l(t.typeList,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),i("Form-item",{attrs:{prop:"description",label:"说明"}},[i("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入说明"},model:{value:t.formValidate.description,callback:function(e){t.$set(t.formValidate,"description",e)},expression:"formValidate.description"}})],1),i("Form-item",{staticClass:"cus-form-json-editor",attrs:{label:"模板"}},[i("jsonEditor",{attrs:{editorHeight:"15",minLine:"15"},model:{value:t.formValidate.model,callback:function(e){t.$set(t.formValidate,"model",e)},expression:"formValidate.model"}})],1),i("Form-item",[i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("提交")])],1)],1)],2)},n=[],s=i("XyMi");function l(t){i("HnGt")}var u=!1,c=l,d="data-v-7c45959b",f=null,m=Object(s["a"])(o,r,n,u,c,d,f),p=m.exports,h=i("P9l9"),v={name:"api-editor",data:function(){return{info:{}}},components:{editorLib:p},watch:{},mounted:function(){var t=this.$route.query;t.project&&(this.info={project:t.project}),t.id&&this.getLibDetail({id:t.id})},methods:{getLibDetail:function(t){var e=this;return Object(h["A"])(t).then(function(t){t.code?e.$Message.error("API未找到！"):t.data.result&&(e.info=t.data.result)})},submitItem:function(t){var e=this,i=t.id?h["t"]:h["c"];i(t).then(function(t){t.code||(e.$Message.success(t.message),e.$router.replace({path:e.$route.fullPath,query:{id:t.data.result._id}}))})},deleteItem:function(t){var e=this;Object(h["p"])(t).then(function(t){t.code||e.$router.go(-1)})}}},b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"json-editor"},[i("editorLib",{staticClass:"lib-editor",attrs:{info:t.info},on:{submit:t.submitItem,delete:t.deleteItem}})],1)},y=[];function g(t){i("o6i+")}var V=!1,_=g,j="data-v-21dc8f58",$=null,k=Object(s["a"])(v,b,y,V,_,j,$);e["default"]=k.exports},iGed:function(t,e){},ldoq:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("P9l9"),o=(i("EuXz"),{data:function(){return{formValidate:{remoteAddress:"",managePort:6001},simpleItem:[{label:"服务器地址",key:"remoteAddress"},{label:"修改程序端口",key:"managePort"}],ruleValidate:{}}},computed:{},props:{info:{type:Object}},watch:{info:function(){this.copyToObj(this.formValidate,this.info,[["id","_id"]])}},mounted:function(){var t=this.$route.query;t.project&&(this.formValidate.project=t.project),this.copyToObj(this.formValidate,this.info,[["id","_id"]])},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.$emit("submit",e.formValidate):e.$Message.error("表单验证失败!")})},handleUpgrade:function(t){this.$emit("upgrade")}}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":100}},[t._l(t.simpleItem,function(e){return i("Form-item",{key:e.label,attrs:{prop:e.key,label:e.label}},[e.type?t._e():i("Input",{attrs:{placeholder:"请输入"+e.label},model:{value:t.formValidate[e.key],callback:function(i){t.$set(t.formValidate,e.key,i)},expression:"formValidate[item.key]"}}),"select"===e.type?i("Select",{staticStyle:{width:"200px"},model:{value:t.formValidate[e.key],callback:function(i){t.$set(t.formValidate,e.key,i)},expression:"formValidate[item.key]"}},t._l(t.methodList,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})):t._e(),"textarea"===e.type?i("Input",{staticClass:"cus-textarea",attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入"+e.label},model:{value:t.formValidate[e.key],callback:function(i){t.$set(t.formValidate,e.key,i)},expression:"formValidate[item.key]"}}):t._e()],1)}),i("Form-item",[i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("提交")]),i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleUpgrade()}}},[t._v("导入以前版本的数据库")])],1)],2)},n=[],s=i("XyMi");function l(t){i("rafL")}var u=!1,c=l,d=null,f=null,m=Object(s["a"])(o,r,n,u,c,d,f),p=m.exports,h={name:"config-editor",data:function(){return{info:{}}},computed:{projectList:function(){return this.$store.getters["project/selector"]}},components:{editorConfig:p},watch:{},created:function(){this.getAppBase()},methods:{getAppBase:function(){var t=this;return Object(a["y"])({}).then(function(e){e.code||(t.info=e.data.result||{})})},handleSubmit:function(t){var e=this;return Object(a["G"])(t).then(function(t){t.code||e.$Message.success(t.message)})},handleUpgrade:function(){var t=this;return Object(a["J"])({}).then(function(e){e.code||t.$Message.success(e.message)})}}},v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",{staticClass:"baseconfig-card"},[i("editorConfig",{attrs:{info:t.info},on:{submit:t.handleSubmit,upgrade:t.handleUpgrade}})],1)},b=[];function y(t){i("iGed")}var g=!1,V=y,_="data-v-97d56512",j=null,$=Object(s["a"])(h,v,b,g,V,_,j);e["default"]=$.exports},"o6i+":function(t,e){},plSV:function(t,e,i){var a=i("boo2");t.exports=function(t,e){return new(a(t))(e)}},qSf2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("EuXz");var a=i("Ahwz"),o=i("yHUV"),r={data:function(){return{formValidate:{name:"",method:"GET",url:"/api",path:"",pathEqual:"",delay:0,description:"",project:"",afterFunc:null,inputParam:null,outputParam:null,data:null},methodList:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"DELETE",label:"DELETE"},{value:"PATCH",label:"PATCH"}],simpleItem:[{label:"名称",key:"name"},{label:"方法",key:"method",type:"select"},{label:"URL",key:"url"},{label:"二级路径",key:"path"},{label:"二级路径字段预期值",key:"pathEqual"},{label:"延时设置",key:"delay"},{label:"描述",key:"description",type:"textarea"}],ruleValidate:{name:[{trigger:"blur",message:"请填写项目名称",required:!0}],shortcut:[{message:"请填写项目简称",required:!0}],port:[{type:"number",required:!0}]}}},computed:{projectList:function(){return this.$store.getters["project/selector"]}},components:{jsonEditor:a["a"],jsEditor:o["a"]},props:{info:{type:Object}},watch:{info:function(){this.copyToObj(this.formValidate,this.info,[["id","_id"]])}},mounted:function(){var t=this.$route.query;t.project&&(this.formValidate.project=t.project),this.copyToObj(this.formValidate,this.info,[["id","_id"]])},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.$emit("submit",e.formValidate):e.$Message.error("表单验证失败!")})},addBaseData:function(t,e){void 0!==this.formValidate[t]&&(this.formValidate[t]=e||{})}}},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":90}},[i("div",{staticClass:"api-basic-left"},[i("div",t._l(t.simpleItem,function(e){return i("Form-item",{key:e.label,attrs:{prop:e.key,label:e.label}},[e.type?t._e():i("Input",{attrs:{placeholder:"请输入"+e.label},model:{value:t.formValidate[e.key],callback:function(i){t.$set(t.formValidate,e.key,i)},expression:"formValidate[item.key]"}}),"select"===e.type?i("Select",{staticStyle:{width:"100px"},model:{value:t.formValidate[e.key],callback:function(i){t.$set(t.formValidate,e.key,i)},expression:"formValidate[item.key]"}},t._l(t.methodList,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})):t._e(),"textarea"===e.type?i("Input",{staticClass:"cus-textarea",attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入"+e.label},model:{value:t.formValidate[e.key],callback:function(i){t.$set(t.formValidate,e.key,i)},expression:"formValidate[item.key]"}}):t._e()],1)})),i("div",[i("section",{staticClass:"cus-form-json-editor"},[t.formValidate.data?i("jsonEditor",{attrs:{title:"mock数据"},model:{value:t.formValidate.data,callback:function(e){t.$set(t.formValidate,"data",e)},expression:"formValidate.data"}},[i("div",{attrs:{slot:"tips"},slot:"tips"},[i("h3",[t._v("mock数据")]),i("ul",[i("li",[t._v("类型： Object")]),i("li",[t._v("默认： {}")]),i("li",[t._v("说明： 要输出的mock数据，对象格式")])])])]):i("Button",{staticClass:"cus-form-json-editor-add",attrs:{type:"ghost",size:"small"},nativeOn:{click:function(e){t.addBaseData("data")}}},[t._v("添加 mock数据")])],1),i("section",{staticClass:"cus-form-json-editor"},[t.formValidate.inputParam?i("jsonEditor",{attrs:{title:"输入参数模板"},model:{value:t.formValidate.inputParam,callback:function(e){t.$set(t.formValidate,"inputParam",e)},expression:"formValidate.inputParam"}},[i("div",{attrs:{slot:"tips"},slot:"tips"},[i("h3",[t._v("输入参数模板")]),i("ul",[i("li",[t._v("类型： Object")]),i("li",[t._v("默认: {}")]),i("li",[t._v("示例"),i("pre",{staticStyle:{"font-size":"12px"}},[i("code",{attrs:{lang:"javascript"}},[t._v('{\n  "type": "object",\n  "properties": {\n  "func": {\n    "type": "string",\n    "required": true\n  },\n  "token": {\n    "type": "string"\n  },\n  "params": {\n    "type": "object"\n  }\n}')])])]),i("li",[t._v("说明： 校验输入参数的模板，规则是json-gate类型，具体可见"),i("a",{attrs:{href:"https://github.com/oferei/json-gate"}},[t._v("https://github.com/oferei/json-gate")]),t._v("。"),i("blockquote",[i("p",[t._v("注意：本项目对json-gate进行了改写，当输入参数为String类型，而定义的类型为其他，会执行"),i("code",[t._v("JSON.parse")]),t._v("命令尝试转换。")])])])])])]):i("Button",{staticClass:"cus-form-json-editor-add",attrs:{type:"ghost",size:"small"},nativeOn:{click:function(e){t.addBaseData("inputParam")}}},[t._v("添加 输入参数模板")])],1),i("section",{staticClass:"cus-form-json-editor"},[t.formValidate.outputParam?i("jsonEditor",{attrs:{title:"输出参数模板"},model:{value:t.formValidate.outputParam,callback:function(e){t.$set(t.formValidate,"outputParam",e)},expression:"formValidate.outputParam"}},[i("div",{attrs:{slot:"tips"},slot:"tips"},[i("h3",[t._v("输出参数模板")]),i("ul",[i("li",[t._v("类型： Object")]),i("li",[t._v("默认： {}")]),i("li",[t._v("说明： 与输入参数类似。本参数尚未使用，后续用于生成文档。")])])])]):i("Button",{staticClass:"cus-form-json-editor-add",attrs:{type:"ghost",size:"small"},nativeOn:{click:function(e){t.addBaseData("outputParam")}}},[t._v("添加 输出参数模板")])],1),i("section",{staticClass:"cus-form-json-editor"},[t.formValidate.afterFunc?i("jsEditor",{attrs:{title:"输出处理函数"},model:{value:t.formValidate.afterFunc,callback:function(e){t.$set(t.formValidate,"afterFunc",e)},expression:"formValidate.afterFunc"}},[i("div",{attrs:{slot:"tips"},slot:"tips"},[i("h3",[t._v("输出处理函数")]),i("ul",[i("li",[t._v("类型： String")]),i("li",[t._v("默认： ''")]),i("li",[t._v("说明： 输出时执行的函数。实现方式与判断条件类型，但传入参数只有两个： params和data。params中URL传入的参数，data是填写的mock数据。返回结果为Object类型时，输入的是函数返回的结果")])])])]):i("Button",{staticClass:"cus-form-json-editor-add",attrs:{type:"ghost",size:"small"},nativeOn:{click:function(e){t.addBaseData("afterFunc"," ")}}},[t._v("添加 输出处理函数")])],1)])]),i("div",{staticStyle:{clear:"both"}}),i("Form-item",[i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("提交")])],1)],1)},s=[],l=i("XyMi");function u(t){i("YrsO")}var c=!1,d=u,f="data-v-8d1671d6",m=null,p=Object(l["a"])(r,n,s,c,d,f,m),h=p.exports,v={data:function(){return{formValidate:{name:"主干",condition:"",afterFunc:null,inputParam:null,outputParam:null,data:null,baseid:""},ruleValidate:{name:[{trigger:"blur",message:"请填写项目名称",required:!0}]},topBarItems:[{name:"设为默认",type:"bookmark",action:"btnEdit"},{name:"删除",type:"android-remove-circle",action:"btnDelete"}]}},props:{info:{type:Object}},computed:{},components:{jsonEditor:a["a"],jsEditor:o["a"]},watch:{info:function(){this.copyToObj(this.formValidate,this.info,[["id","_id"]])}},mounted:function(){this.copyToObj(this.formValidate,this.info,[["id","_id"]])},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.$emit("submit",e.formValidate):e.$Message.error("表单验证失败!")})},btnDelete:function(){var t=this;this.$Modal.confirm({title:"是否删除该API？",content:"<p>删除后将相关的分支均会删除且无法恢复</p>",onOk:function(){t.$emit("delete",t.info)}})},addBaseData:function(t,e){void 0!==this.formValidate[t]&&(this.formValidate[t]=e||{})}}},b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",[i("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":90}},[i("div",{staticStyle:{"text-align":"right",padding:"10px"}},t._l(t.topBarItems,function(e){return i("a",{key:e.action,staticStyle:{"margin-right":"10px"},attrs:{href:"javascript:void(0)"}},[i("Icon",{attrs:{type:e.type,color:"#9ea7b4"},nativeOn:{click:function(i){t.btnAction(e.action)}}})],1)})),i("Form-item",{attrs:{prop:"name",label:"名称"}},[i("Input",{attrs:{placeholder:"请输入名称"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1),i("div",{staticClass:"cus-form-json-editor"},[i("jsEditor",{attrs:{title:"判断条件"},model:{value:t.formValidate.condition,callback:function(e){t.$set(t.formValidate,"condition",e)},expression:"formValidate.condition"}},[i("div",{attrs:{slot:"tips"},slot:"tips"},[i("h3",[t._v("判断条件")]),i("ul",[i("li",[t._v("类型： String")]),i("li",[t._v("默认： ''")]),i("li",[t._v("示例：")])]),i("pre",[i("code",{staticClass:"lang-javascript"},[t._v("paramsKey."),i("span",{staticClass:"hljs-keyword"},[t._v("type")]),t._v(" "),i("span",{staticClass:"hljs-type"},[t._v("== ")]),i("span",{staticClass:"hljs-number"},[t._v("0")]),t._v("\n\n或者\nparamsKey = JSON.parse(paramsKey)\n"),i("span",{staticClass:"hljs-keyword"},[t._v("return")]),t._v(" paramsKey."),i("span",{staticClass:"hljs-keyword"},[t._v("type")]),t._v(" "),i("span",{staticClass:"hljs-type"},[t._v("== ")]),i("span",{staticClass:"hljs-number"},[t._v("0")]),t._v("\n\n")])]),i("ul",[i("li",[i("p",[t._v("说明： 根据输入参数进行判断，返回值为真类型时，认为当前条件符合，不在继续查找；返回假类型数据时认为条件不符合；未填写时，认为当前分支为默认分支，在遍历其他分支未找到时，认为本分支为目标分支。实际上填写的内容是处于一个function之内的内容，没有"),i("code",[t._v("return")]),t._v(" 关键字则自动添加"),i("code",[t._v("return")]),t._v("。所有url中:id形式的参数，从url传过来的search，body中传过来的对象，合在一起形成的对象，将各key传入到入参中。调用为。：")]),i("pre",[i("code",{staticClass:"lang-javascript"},[i("span",{staticClass:"hljs-function"},[i("span",{staticClass:"hljs-keyword"},[t._v("function")]),t._v(" "),i("span",{staticClass:"hljs-params"},[t._v("("),i("span",{staticClass:"hljs-rest_arg"},[t._v("...params")]),t._v(")")])]),t._v("\n")])])]),i("li",[i("p",[t._v("调用时"),i("code",[t._v("this")]),t._v("指向 koa中的"),i("code",[t._v("ctx")]),t._v("。")])])])])])],1),i("div",{staticClass:"cus-form-json-editor"},[t.formValidate.afterFunc?i("jsEditor",{attrs:{title:"输出处理函数"},model:{value:t.formValidate.afterFunc,callback:function(e){t.$set(t.formValidate,"afterFunc",e)},expression:"formValidate.afterFunc"}},[i("div",{attrs:{slot:"tips"},slot:"tips"},[i("h3",[t._v("输出处理函数")]),i("ul",[i("li",[t._v("类型： String")]),i("li",[t._v("默认： ''")]),i("li",[t._v("说明： 输出时执行的函数。实现方式与判断条件类型，但传入参数只有两个： params和data。params中URL传入的参数，data是填写的mock数据。返回结果为Object类型时，输入的是函数返回的结果")])])])]):i("Button",{staticClass:"cus-form-json-editor-add",attrs:{type:"ghost",size:"small"},nativeOn:{click:function(e){t.addBaseData("afterFunc"," ")}}},[t._v("添加 输出处理函数")])],1),i("div",{staticClass:"cus-form-json-editor"},[t.formValidate.inputParam?i("jsonEditor",{attrs:{title:"输入参数模板"},model:{value:t.formValidate.inputParam,callback:function(e){t.$set(t.formValidate,"inputParam",e)},expression:"formValidate.inputParam"}},[i("div",{attrs:{slot:"tips"},slot:"tips"},[i("h3",[t._v("输入参数模板")]),i("ul",[i("li",[t._v("类型： Object")]),i("li",[t._v("默认: {}")]),i("li",[t._v("示例"),i("pre",{staticStyle:{"font-size":"12px"}},[i("code",{attrs:{lang:"javascript"}},[t._v('{\n"type": "object",\n"properties": {\n"func": {\n"type": "string",\n"required": true\n},\n"token": {\n"type": "string"\n},\n"params": {\n"type": "object"\n}\n}')])])]),i("li",[t._v("说明： 校验输入参数的模板，规则是json-gate类型，具体可见"),i("a",{attrs:{href:"https://github.com/oferei/json-gate"}},[t._v("https://github.com/oferei/json-gate")]),t._v("。"),i("blockquote",[i("p",[t._v("注意：本项目对json-gate进行了改写，当输入参数为String类型，而定义的类型为其他，会执行"),i("code",[t._v("JSON.parse")]),t._v("命令尝试转换。")])])])])])]):i("Button",{staticClass:"cus-form-json-editor-add",attrs:{type:"ghost",size:"small"},nativeOn:{click:function(e){t.addBaseData("inputParam")}}},[t._v("添加 输入参数模板")])],1),i("div",{staticClass:"cus-form-json-editor"},[t.formValidate.outputParam?i("jsonEditor",{attrs:{title:"输出参数模板"},model:{value:t.formValidate.outputParam,callback:function(e){t.$set(t.formValidate,"outputParam",e)},expression:"formValidate.outputParam"}},[i("div",{attrs:{slot:"tips"},slot:"tips"},[i("h3",[t._v("输出参数模板")]),i("ul",[i("li",[t._v("类型： Object")]),i("li",[t._v("默认： {}")]),i("li",[t._v("说明： 与输入参数类似。本参数尚未使用，后续用于生成文档。")])])])]):i("Button",{staticClass:"cus-form-json-editor-add",attrs:{type:"ghost",size:"small"},nativeOn:{click:function(e){t.addBaseData("outputParam")}}},[t._v("添加 输出参数模板")])],1),i("div",{staticClass:"cus-form-json-editor"},[t.formValidate.data?i("jsonEditor",{attrs:{title:"mock数据"},model:{value:t.formValidate.data,callback:function(e){t.$set(t.formValidate,"data",e)},expression:"formValidate.data"}},[i("div",{attrs:{slot:"tips"},slot:"tips"},[i("h3",[t._v("mock数据")]),i("ul",[i("li",[t._v("类型： Object")]),i("li",[t._v("默认： {}")]),i("li",[t._v("说明： 要输出的mock数据，对象格式")])])])]):i("Button",{staticClass:"cus-form-json-editor-add",attrs:{type:"ghost",size:"small"},nativeOn:{click:function(e){t.addBaseData("data")}}},[t._v("添加 mock数据")])],1),i("Form-item",[i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("提交")])],1)],1)],1)},y=[];function g(t){i("2M94")}var V=!1,_=g,j="data-v-b806f0d4",$=null,k=Object(l["a"])(v,b,y,V,_,j,$),x=k.exports,w=i("P9l9"),O={name:"editor-api",data:function(){return{jsonData:"",info:{},baseid:""}},components:{editorBase:h,editorModel:x},watch:{},computed:{title:function(){return this.baseid?"编辑":"新增"}},mounted:function(){var t=this.$route.query;t.project&&(this.info={project:t.project,model:[]}),t.id&&this.getApiDetail({id:t.id})},methods:{submitBase:function(t){var e=this,i=t.id?w["r"]:w["a"];i(t).then(function(i){if(!i.code){var a=i.data.result,o=(a[0]||a)._id;e.baseid=o,t.id=o,e.$Message.success(i.message)}})},submitModel:function(t){var e=this,i=t.id?w["s"]:w["b"];if(!t.baseid){if(!this.baseid)return void this.$Message.error("您还没有保存基础信息，无法提交分支信息!");t.baseid=this.baseid}i(t).then(function(t){t.code||e.$Message.success(t.message)})},deleteApi:function(t){var e=this;Object(w["n"])(t).then(function(t){t.code||(e.$Message.success(t.message),e.$router.go(-1))})},deleteApiModel:function(t){var e=this;if(t._id){var i={id:t._id};Object(w["o"])(i).then(function(t){t.code||(e.$Message.success(t.message),e.getApiDetail({id:e.$route.query.id}))})}else{var a=this.info.model.indexOf(t);~a&&this.info.model.splice(a,1)}},getApiDetail:function(t){var e=this;return Object(w["w"])(t).then(function(t){t.code?e.$Message.error("API未找到！"):(e.info=t.data.result,e.baseid=e.info._id)})},addNewBranch:function(){this.info.model||(this.info.model=[]),this.info.model.push({})}}},C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editor-api"},[i("Card",{staticClass:"left-info"},[i("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      API"+t._s(t.title)+" - 基本信息\n    ")]),i("editorBase",{attrs:{info:t.info},on:{submit:t.submitBase,delete:t.deleteApi}}),t.info.model&&t.info.model.length?t._e():i("div",{staticClass:"tips"},[i("p",[t._v("功能不够用？点击添加分支")]),i("Button",{attrs:{type:"primary",icon:"add"},on:{click:t.addNewBranch}},[t._v("添加分支")])],1)],1),i("Card",{directives:[{name:"show",rawName:"v-show",value:t.info.model&&t.info.model.length,expression:"info.model && info.model.length"}],staticClass:"right-list-full right-container",staticStyle:{height:"calc(100vh - 112px)"},attrs:{bordered:!1}},[i("p",{attrs:{slot:"title"},slot:"title"},[i("Icon",{attrs:{type:"ios-film-outline"}}),t._v("\n        API分支列表\n    ")],1),t._l(t.info.model,function(e){return i("editorModel",{key:e._id,staticStyle:{margin:"8px 0"},attrs:{info:e},on:{submit:t.submitModel,delete:t.deleteApiModel}})}),i("Button",{attrs:{type:"primary",icon:"add"},on:{click:t.addNewBranch}},[t._v("添加新分支")])],2)],1)},M=[];function S(t){i("7quf"),i("7KHZ")}var E=!1,L=S,P="data-v-dbd0bb06",F=null,D=Object(l["a"])(O,C,M,E,L,P,F),A=D.exports,B=i("z1o6"),T={name:"api-editor",data:function(){return{jsonData:""}},mixins:[B["a"]],breadList:function(){var t=[{name:"项目列表",menuName:"项目列表"},{name:"项目详情"},{name:"新增API"}];return this.$route.query.id&&(t[2].name="编辑API"),t},components:{editorApi:A},watch:{},mounted:function(){},methods:{}},I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"json-editor"},[i("editorApi")],1)},z=[],q=!1,R=null,H=null,N=null,U=Object(l["a"])(T,I,z,q,R,H,N);e["default"]=U.exports},rafL:function(t,e){},v6ZX:function(t,e){},y0uw:function(t,e){},yHUV:function(t,e,i){"use strict";i("mJx5");var a=i("cOP9"),o=i.n(a),r={name:"js-editor",data:function(){return{editorValue:"",status:"normal",resize:0}},props:{value:String,title:String,type:{type:String,default:"javascript"},normalLine:{type:String,default:"12"},focusLine:{type:String,default:"20"}},components:{MonacoEditor:o.a},computed:{editorSize:function(){var t=22,e=.94*document.documentElement.clientHeight-20,i=.9*document.documentElement.clientWidth-250-20,a=this.status;if("normal"===a||"focus"===a){e="normal"===a?this.normalLine*t:this.focusLine*t;var o=this.$el;o&&(i=o.getBoundingClientRect().width-2)}var r={height:e+"px",width:i+"px",opacity:this.resize>-1?1:0};return this.editor&&this.editor.layout({width:i,height:e}),r}},watch:{value:function(t){this.setEditorValue()}},created:function(){var t=this;this.resizeFunc=function(){t.resize++}},mounted:function(){this.editor=this.$refs.editor.getMonaco(),this.setEditorValue(),window.addEventListener("resize",this.resizeFunc)},destroyed:function(){window.removeEventListener("resize",this.resizeFunc)},methods:{setFullScreen:function(){this.status="full"},exitFullScreen:function(){this.status="normal"},exitClickFullScreen:function(t){~t.target.className.split(" ").indexOf("js-editor")&&"full"===this.status&&this.exitFullScreen()},setEditorValue:function(){var t=this;if(clearTimeout(this.timeHd),!this.editor)return this.editor=this.$refs.editor.getMonaco(),void(this.timeHd=setTimeout(function(){t.setEditorValue()},0));this.editorValue!==this.value&&(this.editorValue=this.value),this.resize++},editorBlur:function(){"full"!==this.status&&(this.status="normal"),this.$emit("input",this.editorValue);for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["blur"].concat(e))},editorFocus:function(){"full"!==this.status&&(this.status="focus");for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["focus"].concat(e))}}},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"js-editor",class:{fullScreen:"full"===t.status},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.exitFullScreen(e):null},click:t.exitClickFullScreen}},[i("section",{staticClass:"js-editor-body"},["full"!==t.status?i("section",{staticClass:"js-editor-header-normal"},[i("h4",[t._v(t._s(t.title))]),"full"!==t.status?i("Icon",{staticClass:"js-editor-icon",attrs:{type:"arrow-expand",size:"20"},nativeOn:{click:function(e){return t.setFullScreen(e)}}}):t._e()],1):i("section",{staticClass:"js-editor-header-full"},[i("h2",[t._v(t._s(t.title)+"编辑")]),i("h3",{staticStyle:{margin:"10px 0"}},[t._v("说明：")]),t._t("tips"),i("h3",{staticStyle:{margin:"10px 0"}},[t._v("状态：")]),t._t("errMsg")],2),i("MonacoEditor",{ref:"editor",staticClass:"js-editor-container",style:t.editorSize,attrs:{language:t.type},on:{blur:t.editorBlur,focus:t.editorFocus},model:{value:t.editorValue,callback:function(e){t.editorValue=e},expression:"editorValue"}}),"full"!==t.status?i("section",{staticClass:"js-editor-errMsg-c"},[t._t("errMsg")],2):t._e()],1)])},s=[],l=i("XyMi");function u(t){i("v6ZX")}var c=!1,d=u,f="data-v-7891246b",m=null,p=Object(l["a"])(r,n,s,c,d,f,m);e["a"]=p.exports},z1o6:function(t,e,i){"use strict";function a(t){this.$store.commit("SET_BREADLIST",t)}e["a"]={beforeCreate:function(){"undefined"!==typeof this.$options.breadList&&(this._hasBreadList=!0),"function"===typeof this.$options.breadList&&("undefined"===typeof this.$options.computed&&(this.$options.computed={}),this.$options.computed.$breadList=this.$options.breadList)},created:function(){var t=this;this.$breadList&&this.$watch("$breadList",function(){var e=t.$breadList;e&&a.call(t,e)})},beforeMount:function(){if(this._hasBreadList){var t=this.$options.breadList;"function"===typeof t&&(t=t.call(this)),t&&a.call(this,t)}}}}});
//# sourceMappingURL=1.87cdf5c0.js.map